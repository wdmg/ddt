jQuery.fn.viewport=function(){var t=window,i="inner";return"innerWidth"in window||(i="client",t=document.documentElement||document.body),{width:t[i+"Width"],height:t[i+"Height"]}};var addProjectToList=null;$(document).ready(function(){var t,i,a=$("#viewMode"),o=$("#mainFrame"),n=$("#selectSize"),e=$("#followToUrl"),d=$("#selectProjects").find(".dropdown-menu"),r=$(document).viewport(),h={width:o.outerWidth(),height:o.outerHeight()},s={desktop:{horizontal:{width:"100%",height:"100vh"}},laptop:{vertical:{width:"991px",height:"1200px"},horizontal:{width:"1200px",height:"991px"}},tablet:{vertical:{width:"788px",height:"1040px"},horizontal:{width:"1040px",height:"788px"}},mobile:{vertical:{width:"320px",height:"568px"},horizontal:{width:"568px",height:"320px"}}};function c(t){(t=parseInt(t))||(t=1,(h={width:o.outerWidth(),height:o.outerHeight()}).width>=r.width?t=(r.width/h.width).toFixed(3)-.2:h.height>=r.height&&(t=(r.height/h.height).toFixed(3)-.2)),o.css({"-ms-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-o-transform":"scale("+t+")","-webkit-transform":"scale("+t+")",transform:"scale("+t+")"}),1==t?o.css({"margin-top":"auto","margin-left":"auto"}):o.css({"margin-top":56,"margin-left":h.width/2*t})}function l(t){t&&(o.attr("src",t),e.find('input[name="follow"]').val(t))}void 0!==window.devicePixelRatio&&window.devicePixelRatio,h.width<r.width?a.find("#fitToView").prop("disabled",!1):a.find("#fitToView").prop("disabled",!0),n.find("a.nav-link[data-screen]").click(function(t){t.preventDefault();var i=$(this).data("screen");i||(i="desktop");var e=$(this).data("orientation");e||(e="horizontal"),$(this).parent(".nav-item").hasClass("active")?$(this).is('[data-screen="desktop"]')||$(this).is('[data-screen="laptop"]')||($(this).find(".fa").toggleClass("fa-rotate-0 fa-rotate-90"),"horizontal"==$(this).data("orientation")?$(this).data("orientation","vertical"):$(this).data("orientation","horizontal")):(n.find(".nav-item").removeClass("active"),$(this).parent(".nav-item").addClass("active")),i=$(this).data("screen"),e=$(this).data("orientation"),o.stop().animate({width:s[i][e].width,height:s[i][e].height},300),(h={width:o.outerWidth(),height:o.outerHeight()}).width<r.width?a.find("#fitToView").prop("disabled",!1):a.find("#fitToView").prop("disabled",!0),$(this).is('[data-screen="desktop"]')||$(this).is('[data-screen="laptop"]')?(a.find("#fitToView").prop("disabled",!0),o.parent(".main-frame").css("width","100%"),c(1)):(a.find("#fitToView").checked&&c(),o.parent(".main-frame").css("width","auto"))}),a.find("#fitToView").change(function(){this.checked?c():c(1)}),e.on("submit",function(t){t.preventDefault();var i=$(this).find('input[name="follow"]').val();void 0!==i&&l(i)}),$("body").delegate("#selectProjects .dropdown-menu > .dropdown-item > a","click",function(t){t.preventDefault(),d.find(".dropdown-item").removeClass("active"),$(this).parent(".dropdown-item").addClass("active");var i=$(this).attr("href");void 0!==i&&l(i)}),addProjectToList=function(t){d.empty(),$.each(t.projects,function(t,i){var e=i.url+i.favicon;e||(e=i.url+"/favicon.png"),$('<li class="dropdown-item"><a href="'+i.url+'"><span class="favicon" style="background:url(\''+e+"');\"></span>"+i.title+"</a></li>").appendTo(d),i.isDefault&&void 0!==i.url&&l(i.url)})},t="projects.json?callback=addProjectToList",(i=document.createElement("script")).src=t,document.head.appendChild(i)});
//# sourceMappingURL=core.js.map