!function(o){o.fn.preLoadImages=function(e){var n=[];o(this).find("img").each(function(){var e=o.Deferred(),t=new Image;t.onload=function(){e.resolve(t.src)},t.src=o(this).attr("src"),n.push(e)}),o.when.apply(null,n).done(e)}}(jQuery),String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")},jQuery.fn.swap=function(e){e=jQuery(e)[0];var t=this[0].cloneNode(!0);return this[0]=t,this.pushStack(this)},function(s){s.fn.isInViewport=function(e){e=!!e;var t=s(window),n=s(this);if(!n&&e)return console.log("isOnScreen: element undefined."),!1;var o={top:t.scrollTop()||document.body.scrollTop||document.documentElement.scrollTop,left:t.scrollLeft()||document.body.scrollLeft||document.documentElement.scrollLeft};o.right=o.left+(t.width()||Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)),o.bottom=o.top+(t.height()||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)),e&&console.log("Viewport have bounds, top: "+o.top+", left: "+o.left+", right: "+o.right+", bottom: "+o.bottom);var i={top:Math.round(n.offset().top),left:Math.round(n.offset().left)};i.right=Math.round(i.left+n.outerWidth()),i.bottom=Math.round(i.top+n.outerHeight()),e&&console.log("Element have bounds, top: "+i.top+", left: "+i.left+", right: "+i.right+", bottom: "+i.bottom);var r=!(o.right<i.left||o.left>i.right||o.bottom<i.top||o.top>i.bottom);return e&&console.log("Element in viewport: "+r),r}}(jQuery),jQuery.fn.viewport=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},jQuery.fn.getStyle=function(e,t,n){var o=jQuery(e).css(t);return(n=!!n)&&console.log(t+": "+o),this.css(t,o)},jQuery.fn.isEmpty=function(){return!jQuery.trim(this.html())},jQuery.fn.size=function(){var e=jQuery(this).length;return e||0},function(){this.leadZero=function(e,t,n){var o;e=e||0,t=t||10,n=n||!1;return o=(parseInt(e)<parseInt(t)?"0":"")+e,n&&console.log("leadZero: "+o),o}}(),function(u){var t={groups:3,classname:".item",find_elem:".sub-item",min:1};u.fn.autoGroup=function(e,s){s=s||!1;var a=u.extend({},t,e);return this.each(function(){var e=u(this).find(a.find_elem),t=e.length;if(s&&console.log("autoGroup count: "+t),0<t){var n=Math.ceil(t/a.groups);n<a.min&&(n=a.min);var o=0,r=n;for(i=0;i<a.groups;i++)e.slice(o,r).wrapAll(i+1==a.groups?'<div class="'+a.classname+' last" />':'<div class="'+a.classname+'" />'),o+=n,r+=n}else s&&console.log("autoGroup: no have child elements for group.")})}}(jQuery),jQuery.fn.nextOrFirst=function(e){var t=this.next(e);return t.length?t:this.prevAll(e).last()},jQuery.fn.prevOrLast=function(e){var t=this.prev(e);return t.length?t:this.nextAll(e).last()},function(c){c.fn.countUp=function(e,a){a=a||!1;var u=c.extend({},c.fn.countUp.defaults,e);return this.each(function(){var e=c(this),t=0,n=0,o=parseInt(e.text()),i=Math.ceil(u.time/u.interval),r=o/i;if(0<o){a&&console.log("countUp start of lops, count: "+i);var s=setInterval(function(){t<i?(n+=r,e.text(Math.round(n))):(clearInterval(s),e.text(o),a&&console.log("countUp end of lops, current: "+t)),t++},u.interval)}else a&&console.log("countUp: element no have int value.")})},c.fn.countUp.defaults={interval:100,time:3e3}}(jQuery),function(c){c.fn.countDown=function(e,a){a=a||!1;var u=c.extend({},c.fn.countDown.defaults,e);return this.each(function(){var e=c(this),t=0,n=0,o=parseInt(e.text()),i=Math.ceil(u.time/u.interval),r=o/i;if(0<o){a&&console.log("countDown start of lops, count: "+i),n=o;var s=setInterval(function(){t<i?(n-=r,e.text(Math.round(n))):(clearInterval(s),e.text(0),a&&console.log("countDown end of lops, current: "+t)),t++},u.interval)}else a&&console.log("countDown: element no have int value.")})},c.fn.countDown.defaults={interval:100,time:3e3}}(jQuery),function(){this.uniqID=function(e,t,n,o){var i;e=e||"",t=t||!1,n=n||!1,o=o||!1;return this.seed=function(e,t){return t<(e=parseInt(e,10).toString(16)).length?e.slice(e.length-t):t>e.length?new Array(t-e.length+1).join("0")+e:e},i=n?e+(String.fromCharCode(Math.floor(11*Math.random()))+Math.floor(1e6*Math.random())).trim():e+(this.seed(parseInt((new Date).getTime()/1e3,10),8)+this.seed(Math.floor(123456789*Math.random())+1,5)).trim(),t&&(i+=(10*Math.random()).toFixed(8).toString()),o&&console.log("uniqID: "+i),i}}(),function(s){s.fn.horizontalScroll=function(i,r){r=r||!1,i=i||120,s(this).bind("DOMMouseScroll mousewheel",function(e){var t=e.originalEvent,n=t.detail?t.detail*-i:t.wheelDelta,o=s(this).scrollLeft();o+=0<n?-i:i,s(this).scrollLeft(o),r&&o==s(this).scrollLeft()+i||r&&o==-i||e.preventDefault()})}}(jQuery),jQuery.fn.outerHtml=function(){return jQuery("<div />").append(jQuery(this).clone()).html()},jQuery.fn.readingTime=function(e,t){var n,o=this[0],i=(e=jQuery(e)[0]||120,t=!!t,jQuery(o).text().toString().replace(/\r\n?|\n/g," ").replace(/ {2,}/g," ").replace(/^ /,"").replace(/ $/,"").split(" ").length),r=Math.floor(i/e),s=Math.floor(i%e/(e/60));return n=1<=r?r+" minute"+(1==r?"":"s")+", "+s+" second"+(1==s?"":"s"):r+" second"+(1==r?"":"s"),t&&console.log("readingTime() words: "+i+", reading by"+n),n};var matched,browser,declOfNum=function(){var n=[2,0,1,1,1,2],o=function(e,t){return e[4<(t=Math.abs(t))%100&&t%100<20?2:n[t%10<5?t%10:5]]};return function(t){return 1===arguments.length?function(e){return o(t,e)}:o.apply(null,arguments)}}();function readCookie(e){var t,n,o=document.cookie.split("; "),i={};for(t=o.length-1;0<=t;t--)i[(n=o[t].split("="))[0]]=n[1];return i[e]}function locationHash(e){var o={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(e,t,n){o[t]=void 0!==n?n:""}),e?o[e]?o[e]:null:o}function smoothScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",e,!1),window.onmousewheel=document.onmousewheel=e;var n={sTop:0,sDelta:0};function e(e){var t=jQuery.browser.webkit?60:120;e.wheelDelta?delta=e.wheelDelta/120:e.detail&&(delta=-e.detail/3),n.sTop=jQuery(window).scrollTop(),n.sDelta=n.sDelta+delta*t,jQuery(n).stop().animate({sTop:jQuery(window).scrollTop()-n.sDelta,sDelta:0},{duration:200,easing:"linear",step:function(e,t){"sTop"==t.prop&&jQuery("html, body").scrollTop(e)}}),e.preventDefault&&e.preventDefault(),e.returnValue=!1}}jQuery.fn.autoCurrying=function(e,t,n,o){var i=jQuery(this),r=e||!1,s=t||!1;n=!!n;return(o=!!o)&&console.log(r+" "+declOfNum(s,r)),n?i.text(declOfNum(s,r)):i.text(r+" "+declOfNum(s,r))},jQuery.fn.cloneItems=function(e,n,t){var o=jQuery(this);n=n||2,t=!!t;return o.find(e).each(function(){for(var e=$(this),t=1;t<n;t++)e.after($(this).clone())}),t&&console.log(o),o},jQuery.fn.splitClone=function(e,n,t){var o=jQuery(this);n=n||2,t=!!t;return o.find(e).each(function(){for(var e=$(this),t=1;t<n;t++)(e=e.next()).length||(e=$(this).siblings(":first")),e.children(":first-child").clone().appendTo($(this))}),t&&console.log(o),o},jQuery.fn.detectCollisions=function(e,t){var n=jQuery(this),o=jQuery(e),i=(t=!!t,{offsetX1:n.offset().left,offsetY1:n.offset().top,height1:n.outerHeight(!0),width1:n.outerWidth(!0),boundingBoxY1:n.offset().top+n.outerHeight(!0),boundingBoxX1:n.offset().left+n.outerWidth(!0),offsetX2:o.offset().left+1,offsetY2:o.offset().top+1,height2:o.outerHeight(!0),width2:o.outerWidth(!0),boundingBoxY2:o.offset().top+1+o.outerHeight(!0),boundingBoxX2:o.offset().left+1+o.outerWidth(!0)});return t&&console.log(i),!(i.boundingBoxY1<i.offsetY2||i.boundingBoxY2<i.offsetX1||i.boundingBoxX1<i.offsetX2||i.boundingBoxX2<i.offsetX1)},jQuery.fn.splitByWidth=function(e,t,n,o,i){var r=0,s=$(this),a=!!t&&$(t),u=(n=n||0,i=!!i,(o=!!o)?$(s).outerWidth(!0):$(s).width());return n&&(r=n),(i=!!i)&&o?console.log("Countainer outer width: "+u):i&&console.log("Countainer width: "+u),$(this).find(e).each(function(){var e=o?$(this).outerWidth(!0):$(this).width();u<=(r+=e)&&(a&&a.append($(this).outerHtml()),i&&console.log("Element out of container width and has been removed."),$(this).remove())}),i&&o?console.log("Summary outer width: "+r):i&&console.log("Summary width: "+r),this},jQuery.fn.splitByHeight=function(e,t,n,o,i){var r=0,s=$(this),a=!!t&&$(t),u=(n=n||0,i=!!i,(o=!!o)?$(s).outerHeight(!0):$(s).height());return n&&(r=n),(i=!!i)&&o?console.log("Countainer outer height: "+u):i&&console.log("Countainer height: "+u),$(this).find(e).each(function(){var e=o?$(this).outerHeight(!0):$(this).height();u<=(r+=e)&&(a&&a.append($(this).outerHtml()),i&&console.log("Element out of container height and has been removed."),$(this).remove())}),i&&o?console.log("Summary outer height: "+r):i&&console.log("Summary height: "+r),this},jQuery.fn.maxHeight=function(t,e){t=!!t,e=!!e;var n=0;return this.each(function(){if(t)var e=$(this).outerHeight();else e=$(this).height();n<e&&(n=e)}),e&&console.log("Max height of elements: "+n),n},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},browser={},(matched=jQuery.uaMatch(navigator.userAgent)).browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser,function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},o=n[e]=n[e]||[];return-1==o.indexOf(t)&&o.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var o=n.indexOf(t);return-1!=o&&n.splice(o,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var o=this._onceEvents&&this._onceEvents[e],i=0;i<n.length;i++){var r=n[i];o&&o[r]&&(this.off(e,r),delete o[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var r=t.jQuery,s=t.console;function a(e,t){for(var n in t)e[n]=t[n];return e}var u=Array.prototype.slice;function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);var o,i=e;("string"==typeof e&&(i=document.querySelectorAll(e)),i)?(this.elements=(o=i,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?u.call(o):[o]),this.options=a({},this.options),"function"==typeof t?n=t:a(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(i||e))}(c.prototype=Object.create(e.prototype)).options={},c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},c.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&h[t]){for(var n=e.querySelectorAll("img"),o=0;o<n.length;o++){var i=n[o];this.addImage(i)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(o=0;o<r.length;o++){var s=r[o];this.addElementBackgroundImages(s)}}}};var h={1:!0,9:!0,11:!0};function n(e){this.img=e}function o(e,t){this.url=e,this.element=t,this.img=new Image}return c.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,o=n.exec(t.backgroundImage);null!==o;){var i=o&&o[2];i&&this.addBackground(i,e),o=n.exec(t.backgroundImage)}},c.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},c.prototype.addBackground=function(e,t){var n=new o(e,t);this.images.push(n)},c.prototype.check=function(){var o=this;function t(e,t,n){setTimeout(function(){o.progress(e,t,n)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},c.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,e,t)},c.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(o.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},o.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},c.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new c(this,e,t).jqDeferred.promise(r(this))})},c.makeJQueryPlugin(),c}),function(t,n,o){"function"==typeof define&&define.amd?define(["jquery"],function(e){return o(e,t,n),e.mobile}):o(t.jQuery,t,n)}(this,document,function(e,r,Y,C){var t,n,o,i;t=function(d){var u,e,i="virtualMouseBindings",c="virtualTouchID",f="clientX clientY pageX pageY screenX screenY".split(" "),t="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),p="altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),n=d.event.mouseHooks?d.event.mouseHooks.props:[],m=p.concat(n),r={},o=0,s=0,a=0,h=!1,l=[],v=!1,g=!1,y="addEventListener"in Y,w=d(Y),b=1,E=0;function T(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function j(e){for(var t,n,o={};e;){for(n in t=d.data(e,i))t[n]&&(o[n]=o.hasVirtualBinding=!0);e=e.parentNode}return o}function x(){g=!0}function D(){E=0,l.length=0,v=!1,x()}function I(){g=!1}function Q(){o&&(clearTimeout(o),o=0)}function k(){Q(),o=setTimeout(function(){o=0,D()},d.vmouse.resetTimerDuration)}function M(e,t,n){var o;return(n&&n[e]||!n&&function(e,t){for(var n;e;){if((n=d.data(e,i))&&(!t||n[t]))return e;e=e.parentNode}return null}(t.target,e))&&(o=function(e,t){var n,o,i,r,s,a,u,c,h,l=e.type;if((e=d.Event(e)).type=t,n=e.originalEvent,o=p,-1<l.search(/^(mouse|click)/)&&(o=m),n)for(u=o.length;u;)e[r=o[--u]]=n[r];if(-1<l.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==l.search(/^touch/)&&(l=(i=T(n)).touches,s=i.changedTouches,a=l&&l.length?l[0]:s&&s.length?s[0]:C))for(c=0,h=f.length;c<h;c++)e[r=f[c]]=a[r];return e}(t,e),d(t.target).trigger(o)),o}function L(e){var t,n=d.data(e.target,c);"click"===e.type&&"touchstart"===d.data(e.target,"lastTouchType")&&setTimeout(function(){"touchstart"===d.data(e.target,"lastTouchType")&&(D(),delete d.data(e.target).lastTouchType,L(e))},d.vmouse.maximumTimeBetweenTouches),v||E&&E===n||(t=M("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function S(e){var t,n,o,i=T(e).touches;i&&1===i.length&&(n=j(t=e.target),d.data(e.target,"lastTouchType",e.type),n.hasVirtualBinding&&(E=b++,d.data(t,c,E),Q(),I(),h=!1,o=T(e).touches[0],s=o.pageX,a=o.pageY,M("vmouseover",e,n),M("vmousedown",e,n)))}function $(e){g||(h||M("vmousecancel",e,j(e.target)),d.data(e.target,"lastTouchType",e.type),h=!0,k())}function B(e){if(!g){var t=T(e).touches[0],n=h,o=d.vmouse.moveDistanceThreshold,i=j(e.target);d.data(e.target,"lastTouchType",e.type),(h=h||Math.abs(t.pageX-s)>o||Math.abs(t.pageY-a)>o)&&!n&&M("vmousecancel",e,i),M("vmousemove",e,i),k()}}function H(e){if(!g&&d.data(e.target,"lastTouchType")!==C){x(),delete d.data(e.target).lastTouchType;var t,n,o=j(e.target);M("vmouseup",e,o),h||(t=M("vclick",e,o))&&t.isDefaultPrevented()&&(n=T(e).changedTouches[0],l.push({touchID:E,x:n.clientX,y:n.clientY}),v=!0),M("vmouseout",e,o),h=!1,k()}}function X(e){var t,n=d.data(e,i);if(n)for(t in n)if(n[t])return!0;return!1}function O(){}function W(n){var o=n.substr(1);return{setup:function(){X(this)||d.data(this,i,{}),d.data(this,i)[n]=!0,r[n]=(r[n]||0)+1,1===r[n]&&w.bind(o,L),d(this).bind(o,O),y&&(r.touchstart=(r.touchstart||0)+1,1===r.touchstart&&w.bind("touchstart",S).bind("touchend",H).bind("touchmove",B).bind("scroll",$))},teardown:function(){--r[n],r[n]||w.unbind(o,L),y&&(--r.touchstart,r.touchstart||w.unbind("touchstart",S).unbind("touchmove",B).unbind("touchend",H).unbind("scroll",$));var e=d(this),t=d.data(this,i);t&&(t[n]=!1),e.unbind(o,O),X(this)||e.removeData(i)}}}for(d.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500,maximumTimeBetweenTouches:100},e=0;e<t.length;e++)d.event.special[t[e]]=W(t[e]);y&&Y.addEventListener("click",function(e){var t,n,o,i,r,s=l.length,a=e.target;if(s)for(t=e.clientX,n=e.clientY,u=d.vmouse.clickDistanceThreshold,o=a;o;){for(i=0;i<s;i++)if(r=l[i],0,o===a&&Math.abs(r.x-t)<u&&Math.abs(r.y-n)<u||d.data(o,c)===r.touchID)return e.preventDefault(),void e.stopPropagation();o=o.parentNode}},!0)},"function"==typeof define&&define.amd?define("vmouse",["jquery"],t):t(e),n=function(e){return e.mobile={version:"@VERSION"},e.mobile},"function"==typeof define&&define.amd?define("ns",["jquery"],n):n(e),o=function(e){var t={touch:"ontouchend"in Y};return e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t),e.support},"function"==typeof define&&define.amd?define("support/touch",["jquery","../ns"],o):o(e),i=function(c){var h=c(Y),e=c.mobile.support.touch,n=e?"touchstart":"mousedown",a=e?"touchend":"mouseup",u=e?"touchmove":"mousemove";function l(e,t,n,o){var i=n.type;n.type=t,o?c.event.trigger(n,C,e):c.event.dispatch.call(e,n),n.type=i}return c.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight".split(" "),function(e,t){c.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},c.attrFn&&(c.attrFn[t]=!0)}),c.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var s=this,a=c(s),u=!1;a.bind("vmousedown",function(e){if(u=!1,e.which&&1!==e.which)return!0;var t,n,o=e.target;function i(){t&&(a.bind("vclick",n),clearTimeout(t))}function r(){i(),a.unbind("vclick",n).unbind("vmouseup",i),h.unbind("vmousecancel",r)}n=function(e){r(),u||o!==e.target?u&&e.preventDefault():l(s,"tap",e)},a.bind("vmouseup",i),h.bind("vmousecancel",r),t=setTimeout(function(){c.event.special.tap.emitTapOnTaphold||(u=!0),t=0,l(s,"taphold",c.Event("taphold",{target:o}))},c.event.special.tap.tapholdThreshold)})},teardown:function(){c(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),h.unbind("vmousecancel")}},c.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:2<=r.devicePixelRatio?15:30,verticalDistanceThreshold:2<=r.devicePixelRatio?15:30,getLocation:function(e){var t=r.pageXOffset,n=r.pageYOffset,o=e.clientX,i=e.clientY;return 0===e.pageY&&Math.floor(i)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(o)>Math.floor(e.pageX)?(o-=t,i-=n):(i<e.pageY-n||o<e.pageX-t)&&(o=e.pageX-t,i=e.pageY-n),{x:o,y:i}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=c.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:c(e.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=c.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(e,t,n,o){if(t.time-e.time<c.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>c.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<c.event.special.swipe.verticalDistanceThreshold){var i=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return l(n,"swipe",c.Event("swipe",{target:o,swipestart:e,swipestop:t}),!0),l(n,i,c.Event(i,{target:o,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,r=this,t=c(r),s={};(e=c.data(this,"mobile-events"))||(e={length:0},c.data(this,"mobile-events",e)),e.length++,(e.swipe=s).start=function(e){if(!c.event.special.swipe.eventInProgress){c.event.special.swipe.eventInProgress=!0;var t,n=c.event.special.swipe.start(e),o=e.target,i=!1;s.move=function(e){n&&!e.isDefaultPrevented()&&(t=c.event.special.swipe.stop(e),i||(i=c.event.special.swipe.handleSwipe(n,t,r,o))&&(c.event.special.swipe.eventInProgress=!1),Math.abs(n.coords[0]-t.coords[0])>c.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},s.stop=function(){i=!0,c.event.special.swipe.eventInProgress=!1,h.off(u,s.move),s.move=null},h.on(u,s.move).one(a,s.stop)}},t.on(n,s.start)},teardown:function(){var e,t;(e=c.data(this,"mobile-events"))&&(t=e.swipe,delete e.swipe,e.length--,0===e.length&&c.removeData(this,"mobile-events")),t&&(t.start&&c(this).off(n,t.start),t.move&&h.off(u,t.move),t.stop&&h.off(a,t.stop))}},c.each({taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,t){c.event.special[e]={setup:function(){c(this).bind(t,c.noop)},teardown:function(){c(this).unbind(t)}}}),c.event.special},"function"==typeof define&&define.amd?define("events/touch",["jquery","../vmouse","../support/touch"],i):i(e)});
//# sourceMappingURL=helper.js.map